<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>Special Summer Sale | Varandamix In Out</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" rel="stylesheet">

<style>
body { font-family: Arial, sans-serif; background:#fff; }

header {
  background:url('https://images.unsplash.com/photo-1616486029423-aaa4789e8c9a') center/cover;
}
header .overlay {
  background:rgba(255,255,255,0.65);
  padding:70px 20px;
}

.navbar-brand { letter-spacing:1px; }

.price-new { font-size:22px; font-weight:600; }
.price-old { font-size:14px; opacity:.45; text-decoration:line-through; }
.discount { font-size:13px; color:#b89b5e; }

.search-box { max-width:420px; margin:30px auto; }

.card img {
  cursor: zoom-in;
}
.product-code {
  font-size: 10px;
  font-weight: 400;
  color: #9aa0a6;
  display: block;
  margin-top: 4px;
}

/* SWIPER */
.product-swiper {
  padding: 10px 10px 40px;
}
.product-swiper .swiper-slide {
  height: auto;
  display: flex;
}
.product-swiper .card {
  width: 100%;
}
.product-swiper .swiper-button-prev,
.product-swiper .swiper-button-next {
  color: #111;
}
.product-swiper .swiper-pagination-bullet-active {
  background: #111;
}
.product-swiper.is-stacked {
  padding-bottom: 10px;
}
.product-swiper.is-stacked > .product-swiper-wrapper {
  flex-direction: column;
  transform: none !important;
  gap: 16px;
}
.product-swiper.is-stacked > .product-swiper-wrapper > .swiper-slide {
  width: 100% !important;
}
.product-swiper.is-stacked .swiper-pagination {
  display: none;
}
.product-images {
  width: 100%;
  position: relative;
}
.product-images .swiper-slide img {
  width: 100%;
  display: block;
}
.product-images .swiper-button-prev,
.product-images .swiper-button-next {
  color: #111;
  opacity: 0;
  transition: opacity 0.2s ease;
}
.product-images:hover .swiper-button-prev,
.product-images:hover .swiper-button-next {
  opacity: 1;
}
.product-images .swipe-hint {
  position: absolute;
  bottom: 10px;
  left: 50%;
  transform: translateX(-50%);
  background: rgba(0, 0, 0, 0.45);
  color: #fff;
  font-size: 10px;
  padding: 2px 8px;
  border-radius: 10px;
  letter-spacing: 0.2px;
  display: none;
  z-index: 2;
}
.product-images.has-multiple .swipe-hint {
  display: block;
}
.product-images:not(.has-multiple) .swiper-button-prev,
.product-images:not(.has-multiple) .swiper-button-next,
.product-images:not(.has-multiple) .swiper-pagination {
  display: none;
}
@media (max-width: 575.98px) {
  .product-swiper .swiper-button-prev,
  .product-swiper .swiper-button-next {
    display: none;
  }
  .product-images .swiper-button-prev,
  .product-images .swiper-button-next {
    opacity: 1;
  }
  .product-images .swiper-pagination {
    display: block;
  }
}

/* MODAL IMAGEM */
.modal-img {
  max-width: 90%;
  max-height: 80vh;
  object-fit: contain;
}
.modal-swiper .swiper-button-prev,
.modal-swiper .swiper-button-next {
  color: #fff;
  z-index: 5;
}
</style>
</head>

<body>

<nav class="navbar border-bottom">
  <div class="container">
    <span class="navbar-brand">Varandamix In Out</span>
  </div>
</nav>

<header class="text-center">
  <div class="overlay">
    <h1 class="fw-bold">Special Summer Sale</h1>
    <p class="text-muted">Venda especial de acervo de nossa curadoria</p>
  </div>
</header>

<div class="search-box">
  <input type="text" class="form-control" placeholder="Buscar produto: ex. cadeiras">
</div>

<div class="container pb-5">
  <div class="swiper product-swiper">
    <div class="swiper-wrapper product-swiper-wrapper">

      <div class="swiper-slide" id="produto-prod-2471">
        <div class="card h-100 text-center">
          <div class="swiper product-images">
            <div class="swiper-wrapper">
              <div class="swiper-slide">
                <img src="https://images.unsplash.com/photo-1586023492125-27b2c045efd7"
                     class="img-fluid"
                     data-bs-toggle="modal"
                     data-bs-target="#imgModal">
              </div>
              <div class="swiper-slide">
                <img src="https://images.unsplash.com/photo-1615873968403-89e068629265"
                     class="img-fluid"
                     data-bs-toggle="modal"
                     data-bs-target="#imgModal">
              </div>
              <div class="swiper-slide">
                <img src="https://images.unsplash.com/photo-1501045661006-fcebe0257c3f"
                     class="img-fluid"
                     data-bs-toggle="modal"
                     data-bs-target="#imgModal">
              </div>
            </div>
            <div class="swiper-pagination"></div>
            <div class="swiper-button-prev" aria-label="Anterior"></div>
            <div class="swiper-button-next" aria-label="Próximo"></div>
            <div class="swipe-hint">Arraste para o lado</div>
          </div>

          <div class="card-body">
            <h6 class="fw-bold">Sofá Brisa</h6>
            <div class="product-code">PROD-2471</div>
            <p class="text-muted small">Sofá de linhas orgânicas · 3 lugares</p>
            <div class="price-old">R$ 39.900</div>
            <div class="price-new">R$ 19.950</div>
            <div class="discount">50% OFF</div>
          </div>

          <div class="card-footer bg-transparent border-0">
            <a class="btn btn-dark whatsapp-link"
               href="https://wa.me/5551999594767?text=Tenho%20interesse%20no%20Sofá%20Brisa%20(PROD-2471)"
               data-product-name="Sofá Brisa"
               data-product-code="PROD-2471"
               target="_blank">
              Fale conosco
            </a>
          </div>
        </div>
      </div>

      <div class="swiper-slide" id="produto-prod-6305">
        <div class="card h-100 text-center">
          <div class="swiper product-images">
            <div class="swiper-wrapper">
              <div class="swiper-slide">
                <img src="https://images.unsplash.com/photo-1484101403633-562f891dc89a"
                     class="img-fluid"
                     data-bs-toggle="modal"
                     data-bs-target="#imgModal">
              </div>
              <div class="swiper-slide">
                <img src="https://images.unsplash.com/photo-1524758631624-e2822e304c36"
                     class="img-fluid"
                     data-bs-toggle="modal"
                     data-bs-target="#imgModal">
              </div>
            </div>
            <div class="swiper-pagination"></div>
            <div class="swiper-button-prev" aria-label="Anterior"></div>
            <div class="swiper-button-next" aria-label="Próximo"></div>
            <div class="swipe-hint">Arraste para o lado</div>
          </div>

          <div class="card-body">
            <h6 class="fw-bold">Poltrona Luar</h6>
            <div class="product-code">PROD-6305</div>
            <p class="text-muted small">Poltrona elegante · base em madeira</p>
            <div class="price-old">R$ 9.960</div>
            <div class="price-new">R$ 4.980</div>
            <div class="discount">50% OFF</div>
          </div>

          <div class="card-footer bg-transparent border-0">
            <a class="btn btn-dark whatsapp-link"
               href="https://wa.me/5551999594767?text=Tenho%20interesse%20na%20Poltrona%20Luar%20(PROD-6305)"
               data-product-name="Poltrona Luar"
               data-product-code="PROD-6305"
               target="_blank">
              Fale conosco
            </a>
          </div>
        </div>
      </div>

      <div class="swiper-slide" id="produto-prod-6666">
        <div class="card h-100 text-center">
          <div class="swiper product-images">
            <div class="swiper-wrapper">
              <div class="swiper-slide">
                <img src="https://images.unsplash.com/photo-1501045661006-fcebe0257c3f"
                     class="img-fluid"
                     data-bs-toggle="modal"
                     data-bs-target="#imgModal">
              </div>
              <div class="swiper-slide">
                <img src="https://images.unsplash.com/photo-1449247709967-d4461a6a6103"
                     class="img-fluid"
                     data-bs-toggle="modal"
                     data-bs-target="#imgModal">
              </div>
              <div class="swiper-slide">
                <img src="https://images.unsplash.com/photo-1505691938895-1758d7feb511"
                     class="img-fluid"
                     data-bs-toggle="modal"
                     data-bs-target="#imgModal">
              </div>
              <div class="swiper-slide">
                <img src="https://images.unsplash.com/photo-1505691723518-36a5ac3be353"
                     class="img-fluid"
                     data-bs-toggle="modal"
                     data-bs-target="#imgModal">
              </div>
            </div>
            <div class="swiper-pagination"></div>
            <div class="swiper-button-prev" aria-label="Anterior"></div>
            <div class="swiper-button-next" aria-label="Próximo"></div>
            <div class="swipe-hint">Arraste para o lado</div>
          </div>

          <div class="card-body">
            <h6 class="fw-bold">Mesa Cristal</h6>
            <div class="product-code">PROD-6666</div>
            <p class="text-muted small">Mesa de jantar · 6 lugares</p>
            <div class="price-old">R$ 14.980</div>
            <div class="price-new">R$ 7.490</div>
            <div class="discount">50% OFF</div>
          </div>

          <div class="card-footer bg-transparent border-0">
            <a class="btn btn-dark whatsapp-link"
               href="https://wa.me/5551999594767?text=Tenho%20interesse%20na%20Mesa%20Cristal%20(PROD-6666)"
               data-product-name="Mesa Cristal"
               data-product-code="PROD-6666"
               target="_blank">
              Fale conosco
            </a>
          </div>
        </div>
      </div>

    </div>

    <div class="swiper-pagination"></div>
  </div>
</div>

<!-- MODAL -->
<div class="modal fade" id="imgModal" tabindex="-1">
  <div class="modal-dialog modal-dialog-centered modal-lg">
    <div class="modal-content bg-dark text-center">
      <button type="button" class="btn-close btn-close-white ms-auto m-2" data-bs-dismiss="modal"></button>
      <div class="modal-body">
        <div class="swiper modal-swiper">
          <div class="swiper-wrapper" id="modalSwiperWrapper"></div>
          <div class="swiper-button-prev" aria-label="Anterior"></div>
          <div class="swiper-button-next" aria-label="Próximo"></div>
        </div>
      </div>
    </div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

<script>
let modalSwiperInstance = null;

function openImage(src, groupEl) {
  const wrapper = document.getElementById('modalSwiperWrapper');
  wrapper.innerHTML = '';

  const imgs = groupEl
    ? Array.from(groupEl.querySelectorAll('img')).map((img) => img.src)
    : [src];

  imgs.forEach((imgSrc) => {
    const slide = document.createElement('div');
    slide.className = 'swiper-slide';
    slide.innerHTML = `<img src="${imgSrc}" class="modal-img">`;
    wrapper.appendChild(slide);
  });

  const initialIndex = Math.max(0, imgs.indexOf(src));

  if (modalSwiperInstance) {
    modalSwiperInstance.destroy(true, true);
  }

  modalSwiperInstance = new Swiper('.modal-swiper', {
    slidesPerView: 1,
    initialSlide: initialIndex,
    navigation: {
      nextEl: '.modal-swiper .swiper-button-next',
      prevEl: '.modal-swiper .swiper-button-prev'
    }
  });
}

let mainSwiper = null;

function setupMainSwiper() {
  const isMobile = window.matchMedia('(max-width: 575.98px)').matches;
  const container = document.querySelector('.product-swiper');

  if (isMobile) {
    if (mainSwiper) {
      mainSwiper.destroy(true, true);
      mainSwiper = null;
    }
    container.classList.add('is-stacked');
    return;
  }

  container.classList.remove('is-stacked');

  if (!mainSwiper) {
    mainSwiper = new Swiper('.product-swiper', {
      loop: true,
      watchOverflow: false,
      slidesPerView: 1,
      spaceBetween: 16,
      pagination: {
        el: '.product-swiper .swiper-pagination',
        clickable: true
      },
      breakpoints: {
        576: {
          slidesPerView: 2,
          spaceBetween: 20
        },
        992: {
          slidesPerView: 3,
          spaceBetween: 24
        }
      }
    });
  }
}

document.querySelectorAll('.product-images').forEach((el) => {
  const slidesCount = el.querySelectorAll('.swiper-slide').length;
  if (slidesCount > 1) {
    el.classList.add('has-multiple');
  }
  new Swiper(el, {
    slidesPerView: 1,
    spaceBetween: 8,
    loop: slidesCount > 1,
    watchOverflow: false,
    grabCursor: true,
    pagination: {
      el: el.querySelector('.swiper-pagination'),
      clickable: true
    },
    navigation: {
      nextEl: el.querySelector('.swiper-button-next'),
      prevEl: el.querySelector('.swiper-button-prev')
    }
  });
});

setupMainSwiper();
window.addEventListener('resize', setupMainSwiper);

document.querySelectorAll('.product-images img').forEach((img) => {
  img.addEventListener('click', (event) => {
    const groupEl = event.currentTarget.closest('.product-images');
    openImage(event.currentTarget.src, groupEl);
  });
});

document.querySelectorAll('.whatsapp-link').forEach((link) => {
  link.addEventListener('click', () => {
    const card = link.closest('.swiper-slide');
    const productName = link.dataset.productName || 'Produto';
    const productCode = link.dataset.productCode || '';
    const pageUrl = `${window.location.origin}${window.location.pathname}#${card.id}`;
    const message = `Tenho interesse no ${productName} (${productCode}). Link do produto: ${pageUrl}`;
    link.href = `https://wa.me/5551999594767?text=${encodeURIComponent(message)}`;
  });
});
</script>

</body>
</html>
