<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>Special Summer Sale | Varandamix In Out</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" rel="stylesheet">

<style>
body { font-family: Arial, sans-serif; background:#fff; }

header {
  position: relative;
}
header .overlay {
  position: absolute;
  inset: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  background: rgba(255,255,255,0.4);
  padding: 40px 20px;
  pointer-events: none;
  z-index: 2;
}
.hero-swiper {
  width: 100%;
  opacity: 0.7;
  z-index: 1;
}
.hero-swiper .swiper-slide {
  height: 380px;
  background-image: var(--bg-desktop);
  background-size: cover;
  background-position: center;
}
.copy-swiper {
  max-width: 860px;
  margin: 24px auto 6px;
  padding: 0 16px;
}
.copy-swiper .swiper-slide {
  text-align: center;
  color: #333;
  font-size: 15px;
  line-height: 1.5;
}
.copy-swiper .swiper-pagination-bullet-active {
  background: #111;
}
.copy-swiper .swiper-pagination {
  position: static;
  margin-top: 10px;
}

.navbar-brand { letter-spacing:1px; }

.price-new { font-size:22px; font-weight:600; }
.price-old { font-size:14px; opacity:.45; text-decoration:line-through; }
.discount { font-size:13px; color:#b89b5e; }

.search-box { max-width:420px; margin:30px auto; }

.card img {
  cursor: zoom-in;
}
.product-code {
  font-size: 10px;
  font-weight: 400;
  color: #9aa0a6;
  display: block;
  margin-top: 4px;
}

/* SWIPER */
.product-swiper {
  padding: 10px 10px 40px;
}
.product-swiper .swiper-slide {
  height: auto;
  display: flex;
}
.product-swiper .card {
  width: 100%;
}
.product-swiper .swiper-button-prev,
.product-swiper .swiper-button-next {
  color: #111;
}
.product-swiper .swiper-pagination-bullet-active {
  background: #111;
}
.product-swiper.is-stacked {
  padding-bottom: 10px;
}
.product-swiper.is-stacked > .product-swiper-wrapper {
  flex-direction: column;
  transform: none !important;
  gap: 16px;
}
.product-swiper.is-stacked > .product-swiper-wrapper > .swiper-slide {
  width: 100% !important;
}
.product-swiper.is-stacked .swiper-pagination {
  display: none;
}
.product-swiper.product-grid {
  padding-bottom: 10px;
}
.product-swiper.product-grid > .product-swiper-wrapper {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 16px;
  transform: none !important;
}
.product-swiper.product-grid > .product-swiper-wrapper > .swiper-slide {
  width: 100% !important;
}
.product-swiper.product-grid .swiper-pagination {
  display: none;
}
@media (max-width: 991.98px) {
  .product-swiper.product-grid > .product-swiper-wrapper {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }
}
.product-images {
  width: 100%;
  position: relative;
}
.product-images .swiper-slide img {
  width: 100%;
  display: block;
}
.product-image-placeholder {
  width: 100%;
  aspect-ratio: 4 / 3;
  background: #f4f4f4;
  border: 1px solid #eee;
}
.product-images .swiper-button-prev,
.product-images .swiper-button-next {
  color: #111;
  opacity: 0;
  transition: opacity 0.2s ease;
}
.product-images:hover .swiper-button-prev,
.product-images:hover .swiper-button-next {
  opacity: 1;
}
.product-images .swipe-hint {
  position: absolute;
  bottom: 10px;
  left: 50%;
  transform: translateX(-50%);
  background: rgba(0, 0, 0, 0.45);
  color: #fff;
  font-size: 10px;
  padding: 2px 8px;
  border-radius: 10px;
  letter-spacing: 0.2px;
  display: none;
  z-index: 2;
}
.product-images.has-multiple .swipe-hint {
  display: block;
}
.product-images:not(.has-multiple) .swiper-button-prev,
.product-images:not(.has-multiple) .swiper-button-next,
.product-images:not(.has-multiple) .swiper-pagination {
  display: none;
}
@media (max-width: 575.98px) {
  .hero-swiper .swiper-slide {
    height: 260px;
    background-image: var(--bg-mobile);
  }
  .product-swiper .swiper-button-prev,
  .product-swiper .swiper-button-next {
    display: none;
  }
  .product-images .swiper-button-prev,
  .product-images .swiper-button-next {
    opacity: 1;
  }
  .product-images .swiper-pagination {
    display: block;
  }
}

/* MODAL IMAGEM */
.modal-img {
  max-width: 90%;
  max-height: 80vh;
  object-fit: contain;
}
.modal-swiper .swiper-button-prev,
.modal-swiper .swiper-button-next {
  color: #fff;
  z-index: 5;
}
</style>
</head>

<body>

<nav class="navbar border-bottom">
  <div class="container">
    <span class="navbar-brand">Varandamix In Out</span>
  </div>
</nav>

<header class="text-center">
  <div class="swiper hero-swiper">
    <div class="swiper-wrapper">
      <div class="swiper-slide"
           style="--bg-desktop: url('assets/Sala de jantar moderna e elegante.png');
                  --bg-mobile: url('assets/Sala de jantar contemporânea e sofisticada.png');"></div>
      <div class="swiper-slide"
           style="--bg-desktop: url('assets/Sala de estar moderna e sofisticada.png');
                  --bg-mobile: url('assets/Sala de estar moderna e elegante (1).png');"></div>
      <div class="swiper-slide"
           style="--bg-desktop: url('assets/ChatGPT Image 29 de jan. de 2026, 18_42_55.png');
                  --bg-mobile: url('assets/Gemini_Generated_Image_j4eyzij4eyzij4ey.png');"></div>
    </div>
  </div>
  <div class="overlay">
    <h1 class="fw-bold">Special Summer Sale</h1>
    <p class="text-muted">Venda especial de acervo de nossa curadoria</p>
  </div>
</header>

<div class="swiper copy-swiper">
  <div class="swiper-wrapper">
    <div class="swiper-slide">
      Peças icônicas do nosso acervo, escolhidas a dedo, agora com condições raras.
      Uma oportunidade única — e limitada — de levar design autoral para o seu espaço
      com sofisticação e exclusividade.
    </div>
    <div class="swiper-slide">
      Existe um momento em que o desejo encontra a oportunidade. Este é ele.
      Um recorte exclusivo do nosso acervo, com vantagens especiais e quantidade limitada,
      para quem valoriza o design como experiência.
    </div>
    <div class="swiper-slide">
      Luxo é ter acesso ao que poucos têm. Selecionamos peças extraordinárias do nosso acervo
      com condições inéditas — por tempo limitado — para quem busca beleza, prestígio e história
      em cada detalhe.
    </div>
  </div>
  <div class="swiper-pagination"></div>
</div>

<div class="search-box">
  <input id="searchInput" type="text" class="form-control" placeholder="Buscar produto: ex. cadeiras">
</div>

<div class="container pb-5">
  <div class="swiper product-swiper">
    <div class="swiper-wrapper product-swiper-wrapper">

      <div class="swiper-slide" id="produto-prod-2471">
        <div class="card h-100 text-center">
          <div class="swiper product-images">
            <div class="swiper-wrapper">
              <div class="swiper-slide">
                <div class="product-image-placeholder"></div>
              </div>
            </div>
            <div class="swiper-pagination"></div>
            <div class="swiper-button-prev" aria-label="Anterior"></div>
            <div class="swiper-button-next" aria-label="Próximo"></div>
            <div class="swipe-hint">Arraste para o lado</div>
          </div>

          <div class="card-body">
            <h6 class="fw-bold">Sofá Brisa</h6>
            <div class="product-code">PROD-2471</div>
            <p class="text-muted small">Sofá de linhas orgânicas · 3 lugares</p>
            <div class="price-old">R$ 28.893,00</div>
            <div class="price-new">R$ 11.557,20</div>
            <div class="discount">60% OFF</div>
          </div>

          <div class="card-footer bg-transparent border-0">
            <a class="btn btn-dark whatsapp-link"
               href="https://wa.me/5551999594767?text=Tenho%20interesse%20no%20Sofá%20Brisa%20(PROD-2471)"
               data-product-name="Sofá Brisa"
               data-product-code="PROD-2471"
               target="_blank">
              Fale conosco
            </a>
          </div>
        </div>
      </div>

      <div class="swiper-slide" id="produto-prod-6305">
        <div class="card h-100 text-center">
          <div class="swiper product-images">
            <div class="swiper-wrapper">
              <div class="swiper-slide">
                <div class="product-image-placeholder"></div>
              </div>
            </div>
            <div class="swiper-pagination"></div>
            <div class="swiper-button-prev" aria-label="Anterior"></div>
            <div class="swiper-button-next" aria-label="Próximo"></div>
            <div class="swipe-hint">Arraste para o lado</div>
          </div>

          <div class="card-body">
            <h6 class="fw-bold">Poltrona Luar</h6>
            <div class="product-code">PROD-6305</div>
            <p class="text-muted small">Poltrona elegante · base em madeira</p>
            <div class="price-old">R$ 2.758,00</div>
            <div class="price-new">R$ 1.103,20</div>
            <div class="discount">60% OFF</div>
          </div>

          <div class="card-footer bg-transparent border-0">
            <a class="btn btn-dark whatsapp-link"
               href="https://wa.me/5551999594767?text=Tenho%20interesse%20na%20Poltrona%20Luar%20(PROD-6305)"
               data-product-name="Poltrona Luar"
               data-product-code="PROD-6305"
               target="_blank">
              Fale conosco
            </a>
          </div>
        </div>
      </div>

      <div class="swiper-slide" id="produto-prod-6666">
        <div class="card h-100 text-center">
          <div class="swiper product-images">
            <div class="swiper-wrapper">
              <div class="swiper-slide">
                <div class="product-image-placeholder"></div>
              </div>
            </div>
            <div class="swiper-pagination"></div>
            <div class="swiper-button-prev" aria-label="Anterior"></div>
            <div class="swiper-button-next" aria-label="Próximo"></div>
            <div class="swipe-hint">Arraste para o lado</div>
          </div>

          <div class="card-body">
            <h6 class="fw-bold">Mesa Cristal</h6>
            <div class="product-code">PROD-6666</div>
            <p class="text-muted small">Mesa de jantar · 6 lugares</p>
            <div class="price-old">R$ 13.936,00</div>
            <div class="price-new">R$ 9.755,20</div>
            <div class="discount">30% OFF</div>
          </div>

          <div class="card-footer bg-transparent border-0">
            <a class="btn btn-dark whatsapp-link"
               href="https://wa.me/5551999594767?text=Tenho%20interesse%20na%20Mesa%20Cristal%20(PROD-6666)"
               data-product-name="Mesa Cristal"
               data-product-code="PROD-6666"
               target="_blank">
              Fale conosco
            </a>
          </div>
        </div>
      </div>

    </div>

    <div class="swiper-pagination"></div>
  </div>
</div>

<!-- MODAL -->
<div class="modal fade" id="imgModal" tabindex="-1">
  <div class="modal-dialog modal-dialog-centered modal-lg">
    <div class="modal-content bg-dark text-center">
      <button type="button" class="btn-close btn-close-white ms-auto m-2" data-bs-dismiss="modal"></button>
      <div class="modal-body">
        <div class="swiper modal-swiper">
          <div class="swiper-wrapper" id="modalSwiperWrapper"></div>
          <div class="swiper-button-prev" aria-label="Anterior"></div>
          <div class="swiper-button-next" aria-label="Próximo"></div>
        </div>
      </div>
    </div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

<script>
let modalSwiperInstance = null;

function openImage(src, groupEl) {
  const wrapper = document.getElementById('modalSwiperWrapper');
  wrapper.innerHTML = '';

  const imgs = groupEl
    ? Array.from(groupEl.querySelectorAll('img')).map((img) => img.src)
    : [src];

  imgs.forEach((imgSrc) => {
    const slide = document.createElement('div');
    slide.className = 'swiper-slide';
    slide.innerHTML = `<img src="${imgSrc}" class="modal-img">`;
    wrapper.appendChild(slide);
  });

  const initialIndex = Math.max(0, imgs.indexOf(src));

  if (modalSwiperInstance) {
    modalSwiperInstance.destroy(true, true);
  }

  modalSwiperInstance = new Swiper('.modal-swiper', {
    slidesPerView: 1,
    initialSlide: initialIndex,
    navigation: {
      nextEl: '.modal-swiper .swiper-button-next',
      prevEl: '.modal-swiper .swiper-button-prev'
    }
  });
}

let mainSwiper = null;

function setupMainSwiper() {
  const isMobile = window.matchMedia('(max-width: 575.98px)').matches;
  const container = document.querySelector('.product-swiper');

  if (mainSwiper) {
    mainSwiper.destroy(true, true);
    mainSwiper = null;
  }

  if (isMobile) {
    container.classList.add('is-stacked');
    container.classList.remove('product-grid');
    return;
  }

  container.classList.remove('is-stacked');
  container.classList.add('product-grid');
}

const additionalProducts = [
  {
    code: 'PROD-3925',
    name: 'Cadeira Melia',
    desc: 'Estrutura madeira tonalidade mel, tecido linho cinza claro, L56XA84XP52, T2105 assento 47cm',
    unitario: 'R$ 957,00'
  },
  {
    code: 'PROD-3028',
    name: 'Cadeira Neve',
    desc: 'Estrutura madeira com detalhe em aço pintado branco, tecido claro TEC 155, medida 56x56,5x76,5',
    unitario: 'R$ 2.107,00'
  },
  {
    code: 'PROD-6411',
    name: 'Cadeira Horizonte',
    desc: 'Tecido linho claro 584, estrutura mel claro, medidas L49x P54x A82',
    unitario: 'R$ 3.610,00'
  },
  {
    code: 'PROD-2698',
    name: 'Cadeira Siena',
    desc: 'Estrutura pintura preta, couro natural camel, medida L55x P58x A77, designer Pedro Useche',
    unitario: 'R$ 3.750,00'
  },
  {
    code: 'PROD-5825',
    name: 'Cadeira Âmbar',
    desc: 'Estrutura ebanizada, assento couro caramelo, L42 x P57 x A79, designer Ronald Sasson',
    unitario: 'R$ 2.575,00'
  },
  {
    code: 'PROD-8087',
    name: 'cadeira aurora',
    desc: 'Mista com braço 310, palha sextavada cru natural, medida 59Lx52Px82A, design Daniel Simonini',
    unitario: 'R$ 4.860,00'
  },
  {
    code: 'PROD-7091',
    name: 'Cadeira Jangada',
    desc: 'Assento fibra sintética, estrutura madeira jequitibá A.80, L57 P60, designer Daniela Ferro',
    unitario: 'R$ 3.760,00'
  },
  {
    code: 'PROD-5289',
    name: 'Cadeira press',
    desc: 'Estrutura madeira natural e palha sextavada natural, medida 53Lx43Px81A, designer Tiago Curioni',
    unitario: 'R$ 2.670,00'
  },
  {
    code: 'PROD-5921',
    name: 'Cadeira Giro',
    desc: 'Base giratória alum, braços laminados, Tec 0402, A82xL61xP57, designer Devid Almeida',
    unitario: 'R$ 5.868,00'
  },
  {
    code: 'PROD-3613',
    name: 'Poltrona Carbono',
    desc: 'Estofada tecido premium, pés e base em aço carbono laminado, tecido D7066, medida L87x P82x A80',
    unitario: 'R$ 6.700,00'
  },
  {
    code: 'PROD-4740',
    name: 'Poltrona Tela',
    desc: 'Medida L72x P62x A73 com tela sextavada mad. nat. tela cru',
    unitario: 'R$ 5.852,00'
  },
  {
    code: 'PROD-1931',
    name: 'Poltrona Nuvem',
    desc: 'Almofadas com pena de ganso, giratória, tecido linho cinza premium, medida L97 x P96',
    unitario: 'R$ 8.935,00'
  },
  {
    code: 'PROD-7420',
    name: 'Poltrona Eclipse',
    desc: 'Base giratória pintada de preto, tecido B2104, medidas L68 x P80 x A76',
    unitario: 'R$ 4.980,00'
  },
  {
    code: 'PROD-4263',
    name: 'Poltrona sett',
    desc: 'Estrutura ebanizada, tecido linho premium cinza, medida L74x P78,5x A72',
    unitario: 'R$ 5.808,00'
  },
  {
    code: 'PROD-8075',
    name: 'Poltrona malva',
    desc: 'Medida L97x P83x A85, base de madeira cor mel, tecido premium claro',
    unitario: 'R$ 9.670,00'
  },
  {
    code: 'PROD-4091',
    name: 'Poltrona pitia',
    desc: 'Estrutura em louro freijó com palha natural, assento em couro marrom caramelo, medidas 76Lx68Px73A',
    unitario: 'R$ 6.806,00'
  },
  {
    code: 'PROD-2665',
    name: 'Poltrona Sola',
    desc: 'Estrutura aço carbono preto, couro sola preto, detalhes em madeira, medida L088x P085x A085',
    unitario: 'R$ 9.102,00'
  },
  {
    code: 'PROD-2787',
    name: 'Poltrona hope',
    desc: 'Com puff, estofada e giratória, L100 x P92 x A70, tecido premium cinza claro',
    unitario: 'R$ 8.039,00'
  },
  {
    code: 'PROD-1225',
    name: 'Poltrona round',
    desc: 'Medida L82xP84xA80, tecido premium no assento, detalhes atrás couro bege',
    unitario: 'R$ 7.150,00'
  },
  {
    code: 'PROD-3893',
    name: 'Poltrona nux',
    desc: 'Medida L100xP92xA84, tecido premium claro',
    unitario: 'R$ 4.442,00'
  },
  {
    code: 'PROD-9459',
    name: 'Poltrona Algodão',
    desc: 'Medida L100xP100xA80, tecido premium linho cinza claro',
    unitario: 'R$ 4.795,00'
  },
  {
    code: 'PROD-8602',
    name: 'Poltrona Atlântica',
    desc: 'Estofada, base em madeira, medidas L85 x P80 x A82',
    unitario: 'R$ 4.504,00'
  },
  {
    code: 'PROD-9976',
    name: 'Mesa hunt',
    desc: '240x1200x75, lâmina freijó caramelo',
    unitario: 'R$ 15.800,00'
  },
  {
    code: 'PROD-6749',
    name: 'Mesa de centro Bruma',
    desc: '1.10x1.10x0.42, estrutura aço carbono, designer Estudio Ambos',
    unitario: 'R$ 10.392,00'
  },
  {
    code: 'PROD-7289',
    name: 'Mesa de centro orga',
    desc: 'Madeira maciça natural, estrutura aço carbono ouro velho, medida 85x76',
    unitario: 'R$ 4.258,00'
  },
  {
    code: 'PROD-6900',
    name: 'Mesa de centro Duetto',
    desc: 'Conjunto com 2 mesas, estrutura em nogueira, tampo tipo mármore cinza na maior e vidro na menor',
    unitario: 'R$ 7.775,00'
  },
  {
    code: 'PROD-8953',
    name: 'Mesa de centro eixo',
    desc: 'Tampo laca 80 diâmetro x 34 altura, estrutura aço carbono bege',
    unitario: 'R$ 4.632,00'
  },
  {
    code: 'PROD-4523',
    name: 'Mesa feixe',
    desc: 'Toda em bambu, diâmetro 100 x altura 30',
    unitario: 'R$ 5.972,00'
  },
  {
    code: 'PROD-2528',
    name: 'Mesa atalaia',
    desc: 'Base e tampo em concreto natural 40x33xA63',
    unitario: 'R$ 5.232,00'
  },
  {
    code: 'PROD-1433',
    name: 'Mesa creta',
    desc: 'Base em aço carbono, tampo concreto cinza claro',
    unitario: 'R$ 3.880,00'
  }
];

const mesasLateraisProducts = [
  {
    code: 'ML-0001',
    name: 'Mesa Lateral Aura',
    desc: 'FREIJÓ  / CAFÉ   ( 40X55)',
    unitario: 1450,
    discount: 0.4
  },
  {
    code: 'ML-0002',
    name: 'Mesa Lateral Lumen',
    desc: 'COBRE COM TAMPO EM NOGUEIRA medida D 55 X A60',
    unitario: 3614,
    discount: 0.6
  },
  {
    code: 'ML-0003',
    name: 'Mesa Lateral Nébula',
    desc: 'LACA PRETO BRILHO  D 60X A60',
    unitario: 6624,
    discount: 0.6
  },
  {
    code: 'ML-0004',
    name: 'Mesa Lateral Íris',
    desc: 'CARVALHO CASTANHO DETALHE EM GOLD METALIZADO D 60 X A 65',
    unitario: 6350,
    discount: 0.6
  },
  {
    code: 'ML-0005',
    name: 'Mesa Lateral Sereia',
    desc: 'LACA BRILHO PRETA DETALHE GOLD D 40X A60',
    unitario: 3734,
    discount: 0.6
  },
  {
    code: 'ML-0006',
    name: 'Mesa Lateral Brisa',
    desc: 'MADEIRA MEL/ METAL PRETO FOSCO',
    unitario: 2890,
    discount: 0.6
  },
  {
    code: 'ML-0007',
    name: 'Mesa Lateral Atlântica',
    desc: 'D 60X A 60 PRETO EBANIZADO',
    unitario: 3455,
    discount: 0.6
  },
  {
    code: 'ML-0008',
    name: 'Mesa Lateral Âmbar',
    desc: 'ESTRUTURA AÇO CARBONO MARROM,  TAMPO MÁMORE IMPERADOR , MEDIDA 58,7X58,7X A 56,5',
    unitario: 8700,
    discount: 0.6
  },
  {
    code: 'ML-0009',
    name: 'Mesa Lateral Gota',
    desc: 'MADEIRA NOGUEIRA, AÇO PRETO FOSCO MEDIDA: A 62 X P 53 X C 53',
    unitario: 4525,
    discount: 0.4
  },
  {
    code: 'ML-0010',
    name: 'Mesa Lateral Horizonte',
    desc: 'MESA DE APOIO, PODE ENCAIXAR NO SOFÁ, BASE AÇO PRETO FOSCO, TAMPO CARVALHO MEL L 57 X P 30 X A 45',
    unitario: 2750,
    discount: 0.4
  },
  {
    code: 'ML-0011',
    name: 'Mesa Lateral Órbita',
    desc: 'TAMPO EBANIZADO PRETO, BASE PRETO FOSCO D 50 X A 50',
    unitario: 1300,
    discount: 0.3
  },
  {
    code: 'ML-0012',
    name: 'Mesa Lateral Prisma',
    desc: 'MEDIDA: D 90X A 75,  ACABAMENTO NOGUEIRA',
    unitario: 5280,
    discount: 0.5
  },
  {
    code: 'ML-0013',
    name: 'Mesa Lateral Alba',
    desc: 'ACAB. BASE METALICA CAPUCCINO',
    unitario: 1455,
    discount: 0.5
  },
  {
    code: 'ML-0014',
    name: 'Mesa Lateral Selene',
    desc: 'MADEIRA CARVALHO CASTANHO ACB. ESPINHADO MEDIDA: D 60 X A 60',
    unitario: 3360,
    discount: 0.3
  },
  {
    code: 'ML-0015',
    name: 'Mesa Lateral Vega',
    desc: 'ACABAMENTO EBANIZADO /AÇO  D 50 X A 50',
    unitario: 2600,
    discount: 0.5
  },
  {
    code: 'ML-0016',
    name: 'Mesa Lateral Coral',
    desc: 'ACABAMENTO EBANIZADO /AÇO  D 60 X A 60',
    unitario: 2700,
    discount: 0.5
  },
  {
    code: 'ML-0017',
    name: 'Mesa Lateral Duna',
    desc: 'TODA EM PRETO ACT. D 65 x A 45',
    unitario: 1752,
    discount: 0.6
  },
  {
    code: 'ML-0018',
    name: 'Mesa Lateral Estela',
    desc: 'TODA EM PRETO ACT D 60 x A 40',
    unitario: 1590,
    discount: 0.6
  },
  {
    code: 'ML-0019',
    name: 'Mesa Lateral Vento',
    desc: 'TAMPO NOGUEIRA, BASE ACETINADO CINZA, MEDIDA: D 30 X A 55',
    unitario: 1590,
    discount: 0.4
  },
  {
    code: 'ML-0020',
    name: 'Mesa Lateral Aurora',
    desc: 'TODA EM PRETO, MEDIDA D 45 X P 35 X A 55',
    unitario: 1590,
    discount: 0.5
  },
  {
    code: 'ML-0021',
    name: 'Mesa Lateral Boreal',
    desc: 'TAMPO CARVALHO, BASE PRETA FOSCA, MEDIDA: L 52 X P 34 X A 55',
    unitario: 1752,
    discount: 0.4
  },
  {
    code: 'ML-0022',
    name: 'Mesa Lateral Lótus',
    desc: 'TAMPO VIDRO PRETO, BASE PRETA, MEDIDA 45 X 25 X A 60',
    unitario: 1560,
    discount: 0.5
  },
  {
    code: 'ML-0023',
    name: 'Mesa Lateral Opala',
    desc: 'TODA EM PRETO, MEDIDA: L 50 X P25 X A 55',
    unitario: 2980,
    discount: 0.6
  },
  {
    code: 'ML-0024',
    name: 'Mesa Lateral Vértice',
    desc: 'MEDIDA: D 40 X A 65 TAUARI MEL, SUTIL TOQ SEDA',
    unitario: 3745,
    discount: 0.5
  },
  {
    code: 'ML-0025',
    name: 'Mesa Lateral Oliva',
    desc: 'TODA EM MADEIRA AMBAR, MEDIDA: D 60 X A 60',
    unitario: 2980,
    discount: 0.5
  },
  {
    code: 'ML-0026',
    name: 'Mesa Lateral Safira',
    desc: 'TAMPO MADEIRA MACIÇA, BASE METAL PRETO, MEDIDAS:  D 30 X A 50 OU D 40 X A 60',
    unitario: 980,
    discount: 0.4
  },
  {
    code: 'ML-0027',
    name: 'Mesa Lateral Aria',
    desc: 'DIAMETRO 60 X  ALTURA 65, EM MADEIRA MACIÇA LOURO FREIJO',
    unitario: 3700,
    discount: 0.5
  },
  {
    code: 'ML-0028',
    name: 'Mesa Lateral Fenda',
    desc: 'TAMPO MADEIRA, BASE METAL PRETO',
    unitario: 670,
    discount: 0.3
  },
  {
    code: 'ML-0029',
    name: 'Mesa Lateral Pluma',
    desc: 'TAMPO VIDRO GLASS, BASE CARVALHO, MEDIDA: A 60 DIAMETRO 35',
    unitario: 1803,
    discount: 0.3
  },
  {
    code: 'ML-0030',
    name: 'Mesa Lateral Eclipse',
    desc: 'TAMPO ORGÂNICO EM MADEIRA MACIÇA, BASE METAL PRETO, MEDIDA: 45 X 50 X A 60',
    unitario: 1595,
    discount: 0.3
  },
  {
    code: 'ML-0031',
    name: 'Mesa Lateral Atria',
    desc: 'TAMPO ORGÂNICO COM VIDRO CLEAR PRETO, BASE EM NOGUEIRA, MEDIDA: 70 X 65 X A 55',
    unitario: 6070,
    discount: 0.6
  }
];

const sofasProducts = [
  {
    code: 'VMSF01',
    name: 'SOFA ORGANICO NAPOLI',
    desc: 'MEDIDA 3,15 METROS,  MALHA TRENTO GRIGIO',
    unitario: 28588,
    discount: 0.6
  },
  {
    code: 'VMSF02',
    name: 'SOFÁ MERIDIAN',
    desc: 'MEDIDA 2,80METROS, BRAÇOS DE 20CM, TECIDO PREMIUM CINZA',
    unitario: 9674,
    discount: 0.3
  },
  {
    code: 'VMSF03',
    name: 'SOFÁ OAK',
    desc: 'MEDIDA: L  280 X P 120 X A 90 TECIDO PREMIUM CLARO',
    unitario: 16358,
    discount: 0.5
  },
  {
    code: 'VMSF04',
    name: 'SOFÁ LATT',
    desc: 'MEDIDA: 2,20, TECIDO PREMIUM LINHO CINZA',
    unitario: 7570,
    discount: 0.6
  }
];

additionalProducts.push(...mesasLateraisProducts);
additionalProducts.push(...sofasProducts);

const externoProducts = [
  {
    code: 'EX01',
    name: 'POLTRONA  FLAM',
    desc: 'FIBRA SINTÉTICA DE USO EXTERNO COM ASPECTO NATURAL, TECIDO USO EXTERNO L 85 X P 88 X A 67 - ÚNICA PEÇA',
    unitario: 7890,
    discount: 0.6
  },
  {
    code: 'EX02',
    name: 'POLTRONA BONINA',
    desc: 'MADEIRA CUMARU  C/ TELA BEGE, DETALHES EM ALUMÍNIO, USO EXTERNO OU VARANDA - ÚLTIMA UNIDADE L 70 X P 70 X A 72',
    unitario: 4648,
    discount: 0.5
  },
  {
    code: 'EX03',
    name: 'MESA LATERAL RUEDA',
    desc: 'MEDIDA D 29 X A 55  MADEIRA CUMARU COM CORDA CAMURÇA, USO EXTERNO OU INTERNO',
    unitario: 2850,
    discount: 0.5
  },
  {
    code: 'EX04',
    name: 'TAPETE ARA',
    desc: 'TAPETE EM fibra sintética cinza claro MEDIDA  200  X 300, IDEAL PARA ÁREAS EXTERNAS, LAVÁVEL',
    unitario: 4580,
    discount: 0.2
  },
  {
    code: '3X05',
    name: 'MESA DE CENTRO SOHO',
    desc: 'alumínio pintado chumbo tampo madeira cumaru , USO EXTERNO OU INTERNO, L 90 X P90 X A28',
    unitario: 3975,
    discount: 0.5
  },
  {
    code: 'EX 06',
    name: 'mesa de centro FIJI',
    desc: 'D 80, tampo madeira cumaru, corda naval areia, uso externo ou interno',
    unitario: 4400,
    discount: 0.4
  },
  {
    code: 'EX07',
    name: 'BALANÇO LUAR',
    desc: 'BALANÇO  com concorrente , 098DIAM. ESTRUTURA ALUMINIO  PINTADO VERDE MUSGO',
    unitario: 5720,
    discount: 0.6
  },
  {
    code: 'EX08',
    name: 'BALANÇO LUAR COM SUPORTE DE CHÃO',
    desc: 'BALANÇO com SUPORTE DE CHÃO, 098 DIAM. ESTRUTURA ALUMINIO  PINTADO VERDE MUSGO, COM SUPORTE DE CHÃO PARA BALANÇO LUA ESTR FERRO PINTADO VERDE MUSGO',
    unitario: 7440,
    discount: 0.6
  },
  {
    code: 'EX09',
    name: 'ESPREGUICADEIRA BUZIOS',
    desc: '2 UNIDADES, ESTR/ALUMÍNIO CAFÉ /FOSCO TELA KHAKI, VALOR UNITARIO PARA CADA',
    unitario: 2750,
    discount: 0.5
  },
  {
    code: 'EX010',
    name: 'SOFÁ MANHATAN',
    desc: 'SOFÁ MANHATAN ALUMINIO PINTADO PRETO A78 X L220 X P90 TEC EXTERNO LINHO CINZO MESCLA',
    unitario: 12720,
    discount: 0.5
  },
  {
    code: 'EX011',
    name: 'OMBRELONE CENTRAL RIO DE JANEIRO',
    desc: 'OMBRELONE CENTRAL DIÂMETRO 270 ESTRUTURA  ALUMINIO MARROM, TECIDO PROTEÇÃO SOLAR 50FPS FENDI, ABERTURA COM MANIVELA, AUTOARTICULADO',
    unitario: 1780,
    discount: 0.3
  },
  {
    code: 'EX011',
    id: 'EX011-2',
    name: 'CADEIRA TRANCOSO C BRAÇO',
    desc: 'CADEIRA EM ALUMINIO PINTADO E CORDA NAVAL PRETA, COM BRAÇO, MEDIDA: l 56 x P 58 -SOMENTE VENDA DO CONJUNTO COM 4 CADEIRAS - VALOR UNITÁRIO POR PEÇA',
    unitario: 1720,
    discount: 0.3
  },
  {
    code: 'EX013',
    name: 'CONJUNTO TRANCOSO',
    desc: 'CONJUNTO PRETO,  CADEIRAS ALUMINIO PRINTADO PRETO, CORDA NAVAL PRETA, MEDIDA L 56 X P 58, MESA  DIÂMETRO 102 COM FURO PARA OMBRELONE, ALUMINIO PINTADO PRETO',
    unitario: 9768,
    discount: 0.3
  },
  {
    code: 'EX014',
    name: 'MESA ITAPARICA',
    desc: 'MESA DE AÇO GALVANIZADO PINTADO A PÓ COM TAMPO EM POLYWOOD PARA ÁREA EXTERNA, PRETA MEDIDA: 140 X 70 X A 73',
    unitario: 1678,
    discount: 0.4
  },
  {
    code: 'EX015',
    name: 'CONJUNTO ITAPARICA',
    desc: 'MESA DE AÇO GALVANIZADO PINTADO A PÓ COM TAMPO EM POLYWOOD PARA ÁREA EXTERNA, PRETA MEDIDA: 140 X 70 X A 73, 04 CADEIRAS PARATI, CADEIRA EM MONOBLOCO  POLIPROPILENO COM PROTEÇÃO UV PRETA, MEDIDA L 40 X P 47 X A 80, SUPORTA 12O KG',
    unitario: 3970,
    discount: 0.4
  },
  {
    code: 'EX016',
    name: 'CADEIRA PARATI',
    desc: 'CADEIRA EM MONOBLOCO POLIPROPILENO COM PROTEÇÃO UV PRETA, MEDIDA L 40 X P 47 X A 80, SUPORTA 12O KG - SOMENTE VENDA DO CONJUNTO COM 4 CADEIRAS - VALOR UNITÁRIO POR PEÇA',
    unitario: 533,
    discount: 0.4
  },
  {
    code: 'EX017',
    name: 'MESA LATERAL MECA',
    desc: 'ALUMINIO PINTADO FENDI, D 45 x A 50',
    unitario: 1152,
    discount: 0.3
  },
  {
    code: 'EX018',
    name: 'MESA GERIBA',
    desc: 'MESA  C FURO PARA OMBRELONE, ALUMINIO PINTADO PRETO D102 X 72',
    unitario: 2888,
    discount: 0.2
  },
  {
    code: 'EX019',
    name: 'CADEIRA GERIBA',
    desc: 'ALUMÍNIO FENDI, TELA KHAKI FECHADO, USO EXTERNO',
    unitario: 1055,
    discount: 0.2
  },
  {
    code: 'EX020',
    name: 'CONJUNTO TAUÍPE',
    desc: 'ALUMINIO PINTADO FENDI, CORDA NAVAL AREIA, TECIDO EXTERNO OFF WHITE, MEDIDAS POLTRONA: L 75 X P 75 X A 76 - MEDIDA SOFÁ: L  220 X P 75 X A 76',
    unitario: 18321,
    discount: 0.3
  },
  {
    code: 'EX021',
    name: 'CADEIRA ITA',
    desc: 'ALUMÍNIO PINTADO BRANCO COM TELA CAQUI  L 57 X P 59 X A 86, SOMENTE O CONJUNTO DE 02 CADEIRAS - VALOR UNITÁRIO POR CADEIRA',
    unitario: 1247,
    discount: 0.6
  }
];

const diversosProducts = [
  {
    code: 'DV-0001',
    name: 'luminária Hanz',
    desc: 'Luminária De Mesa vidro vectra com filamento',
    unitario: 4980.0,
    discount: 0.6
  },
  {
    code: 'DV-0002',
    name: 'luminária de piso Lux',
    desc: 'Luminária De Piso 2054, Aço Champagne Escovado',
    unitario: 1729.0,
    discount: 0.5
  },
  {
    code: 'DV-0003',
    name: 'abajur Aramado',
    desc: 'Abajur Preto Fosco A 65 x D 44 cm, lâmpada filamento',
    unitario: 1550.0,
    discount: 0.5
  },
  {
    code: 'DV-0004',
    name: 'luminária coluna de piso Lumino',
    desc: 'Coluna Preta Cúpula Creme A 180 x P 55cm Cúpula 31x31cm',
    unitario: 1435.0,
    discount: 0.5
  },
  {
    code: 'DV-0005',
    name: 'luminária de piso Sauípe',
    desc: 'Luminária  Coluna Preto Cúpula Tela sextavada Preta, lâmpada de filamento',
    unitario: 4505.0,
    discount: 0.5
  },
  {
    code: 'DV-0006',
    name: 'luminária de piso Izzo',
    desc: 'Luminária Base  + Lâmpada De Filamento 500x500',
    unitario: 2950.0,
    discount: 0.5
  },
  {
    code: 'DV-0008',
    name: 'luminária coluna accor',
    desc: 'Luminária De Chão Piso 166x70cm Diam. Madeira E Linho',
    unitario: 3806.0,
    discount: 0.4
  },
  {
    code: 'DV-0009',
    name: 'abajur Lotus',
    desc: 'Abajur Pé Conico C/ Cúpula. Cilindro. Algodão A61 40c',
    unitario: 1640.0,
    discount: 0.5
  },
  {
    code: 'DV-0010',
    name: 'abajut Twist',
    desc: 'Abajur  73x45 Madeira E Cúpula Linho',
    unitario: 1745.0,
    discount: 0.5
  },
  {
    code: 'DV-0011',
    name: 'luminária Riva I',
    desc: 'Luminária De Mesa Madeira 36x20 Diametro',
    unitario: 1423.0,
    discount: 0.5
  },
  {
    code: 'DV-0012',
    name: 'luminária Riva II',
    desc: 'Luminária De Mesa Madeira 23x20 Diametro',
    unitario: 1157.0,
    discount: 0.5
  },
  {
    code: 'DV-0013',
    name: 'abajur  Trivia',
    desc: 'Abajur Dourado Diâmetro 28cm Dimerizado',
    unitario: 1171.0,
    discount: 0.3
  },
  {
    code: 'DV-0014',
    name: 'luminária coluna  Tripé',
    desc: 'Coluna Tripe X Cupula De Algodão',
    unitario: 3206.0,
    discount: 0.3
  },
  {
    code: 'DV-0015',
    name: 'tapete artesanal Dublin',
    desc: 'Tapete Artesanal medida 250 X 350',
    unitario: 7348.0,
    discount: 0.6
  },
  {
    code: 'DV-0017',
    name: 'Tapete Nature',
    desc: 'tapete Rw Nature Rustique 250x300',
    unitario: 4890.0,
    discount: 0.3
  },
  {
    code: 'DV-0018',
    name: 'Tapete Bounty',
    desc: 'tapete Rw Bounty 250x300',
    unitario: 5245.0,
    discount: 0.3
  },
  {
    code: 'DV-0019',
    name: 'Tapete Florest',
    desc: 'tapete Rw Florest 4,0 Cor 3412 250x300',
    unitario: 3700.0,
    discount: 0.3
  },
  {
    code: 'DV-0020',
    name: 'tapete Madri',
    desc: 'Tapete Rw Sisal Madrid 1728n(30) 250x300',
    unitario: 2900.0,
    discount: 0.6
  },
  {
    code: 'DV-0021',
    name: 'colar decorativo Merina',
    desc: 'Colar De Mesa Marrom Com Couro 135cm',
    unitario: 1125.0,
    discount: 0.5
  },
  {
    code: 'DV-0022',
    name: 'colar decorativo pincel',
    desc: 'Colar De Mesa Pincel Chinês 30cm',
    unitario: 98.0,
    discount: 0.3
  },
  {
    code: 'DV-0023',
    name: 'colar decorativo Round',
    desc: 'Colar De Mesa Fio Creme 150cm',
    unitario: 498.0,
    discount: 0.4
  },
  {
    code: 'DV-0024',
    name: 'colar decorativo Maré',
    desc: 'Colar De Mesa de Conchinhas 60cm',
    unitario: 498.0,
    discount: 0.3
  },
  {
    code: 'DV-0025',
    name: 'colar decorativo Elos',
    desc: 'Colar De Mesa Corrente Fio Rami 90cm',
    unitario: 375.0,
    discount: 0.5
  },
  {
    code: 'DV-0026',
    name: 'colar decorativo Batute',
    desc: 'Colar decorativo artesanato natural 180 cm',
    unitario: 1147.0,
    discount: 0.4
  },
  {
    code: 'DV-0027',
    name: 'colar decorativo Topázio',
    desc: 'Colar Cbc1bmd Branco/cb2paz Branco com pedra',
    unitario: 1022.0,
    discount: 0.4
  },
  {
    code: 'DV-0030',
    name: 'colar decorativo Meli',
    desc: 'Colar decorativo artesanato natural  Preto',
    unitario: 1122.0,
    discount: 0.5
  },
  {
    code: 'DV-0031',
    name: 'Manta Malta',
    desc: 'Peseira/manta 180x70 A68 Trama Natural',
    unitario: 1790.0,
    discount: 0.3
  },
  {
    code: 'DV-0032',
    name: 'Manta Creta',
    desc: 'Peseira/manta 180x70 A42 Lozango Vazado Chumbo',
    unitario: 1790.0,
    discount: 0.3
  },
  {
    code: 'DV-0033',
    name: 'Manta Atenas',
    desc: 'Peseira/manta 180x70 A43 Pontoxocre',
    unitario: 1790.0,
    discount: 0.3
  },
  {
    code: 'DV-0034',
    name: 'Almofadas Davos',
    desc: 'Almofada Quadrada 50x50 L57 linho fino natural cor natural',
    unitario: 407.0,
    discount: 0.3
  },
  {
    code: 'DV-0035',
    name: 'almofada Davos 2',
    desc: 'Almofada Quadrada 50x50 L55 linho fino natural off white',
    unitario: 407.0,
    discount: 0.3
  },
  {
    code: 'DV-0036',
    name: 'quadro  decorativo',
    desc: 'Quadro Decorativo em canvas',
    unitario: 1468.0,
    discount: 0.4
  },
  {
    code: 'DV-0038',
    name: 'puff Tau',
    desc: 'puff estofado com detalhes em madeira laminada, medida: D 50 x A 45',
    unitario: 3595.0,
    discount: 0.6
  },
  {
    code: 'DV-0039',
    name: 'puff Mel',
    desc: 'Puff estrutura madeira mel, couro caramelo, D 50 x A 46',
    unitario: 1300.0,
    discount: 0.6
  },
  {
    code: 'DV-0040',
    name: 'puff Aurea Retangular',
    desc: 'Puff  estofado Retangular tecido premium cinza, estrutura aço Preto, medida:  97 x 45 x A 48',
    unitario: 2980.0,
    discount: 0.6
  },
  {
    code: 'DV-0041',
    name: 'lareira ecológica Boa Vista',
    desc: 'Lareira em madeira nobre pequiá Ecológica 100x40x20',
    unitario: 6780.0,
    discount: 0.5
  },
  {
    code: 'DV-0042',
    name: 'aparador Taupé',
    desc: 'Aparador em laca fosca branca, detalhes em madeira nogueira com tampa de abertura e bandeja interna Largura 180 cm',
    unitario: 3500.0,
    discount: 0.5
  },
  {
    code: 'DV-0043',
    name: 'aparador carrinho Tropicana',
    desc: 'aparador, carrinho ou mesa lateral comprimento: 1350, design Ronald Sasson',
    unitario: 4980.0,
    discount: 0.6
  },
  {
    code: 'DV-0044',
    name: 'aparador Jutiá',
    desc: 'Aparador em madeira ebanizada e aço preto, medida: 120 x 40 x A 76cm',
    unitario: 4980.0,
    discount: 0.6
  },
  {
    code: 'DV-0045',
    name: 'aparador Nature',
    desc: 'Aparador em  Carvalho Natural, medida: L 180 x P 40 x A 77',
    unitario: 5760.0,
    discount: 0.5
  },
  {
    code: 'DV-0047',
    name: 'tapete  Oslo',
    desc: 'Tapete Retangular Toulon 300 x 200',
    unitario: 3287.0,
    discount: 0.3
  },
];

additionalProducts.push(...externoProducts);
additionalProducts.push(...diversosProducts);

const discountByCode = {
  'PROD-2471': 0.6,
  'PROD-3925': 0.2,
  'PROD-6411': 0.6,
  'PROD-2698': 0.6,
  'PROD-5825': 0.6,
  'PROD-8087': 0.6,
  'PROD-7091': 0.6,
  'PROD-5921': 0.6,
  'PROD-3613': 0.6,
  'PROD-1931': 0.6,
  'PROD-7420': 0.6,
  'PROD-6749': 0.6,
  'PROD-6900': 0.6,
  'PROD-8953': 0.6,
  'PROD-4523': 0.6,
  'PROD-3893': 0.3,
  'PROD-8602': 0.3,
  'PROD-6666': 0.3,
  'PROD-9976': 0.3
};


function parseBRL(value) {
  if (typeof value === 'number') {
    return value;
  }
  return Number(String(value).replace(/[R$\s.]/g, '').replace(',', '.'));
}

function formatBRL(value) {
  const fixed = value.toFixed(2);
  const parts = fixed.split('.');
  const intPart = parts[0].replace(/\B(?=(\d{3})+(?!\d))/g, '.');
  return `R$ ${intPart},${parts[1]}`;
}

function formatName(text) {
  const cleaned = String(text || '').trim().toLowerCase();
  if (!cleaned) return '';
  return cleaned
    .split(/\s+/)
    .map((word) => (word ? word.charAt(0).toUpperCase() + word.slice(1) : ''))
    .join(' ');
}

function formatDesc(text) {
  let cleaned = String(text || '').trim().toLowerCase();
  if (!cleaned) return '';
  cleaned = cleaned.replace(/\b([lpad])\b(?=\s*\d)/g, (match) => match.toUpperCase());
  return cleaned;
}

function buildProductCard(product) {
  const unit = parseBRL(product.unitario);
  const discount = typeof product.discount === 'number'
    ? product.discount
    : (typeof discountByCode[product.code] === 'number' ? discountByCode[product.code] : 0.5);
  const sale = unit * (1 - discount);
  const priceOld = formatBRL(unit);
  const priceNew = formatBRL(sale);
  const discountLabel = `${Math.round(discount * 100)}% OFF`;
  const id = `produto-${(product.id || product.code).toLowerCase()}`;

  return `
      <div class="swiper-slide" id="${id}">
        <div class="card h-100 text-center">
          <div class="swiper product-images">
            <div class="swiper-wrapper">
              <div class="swiper-slide">
                <div class="product-image-placeholder"></div>
              </div>
            </div>
            <div class="swiper-pagination"></div>
            <div class="swiper-button-prev" aria-label="Anterior"></div>
            <div class="swiper-button-next" aria-label="Próximo"></div>
            <div class="swipe-hint">Arraste para o lado</div>
          </div>

          <div class="card-body">
            <h6 class="fw-bold">${formatName(product.name)}</h6>
            <div class="product-code">${product.code}</div>
            <p class="text-muted small">${formatDesc(product.desc)}</p>
            <div class="price-old">${priceOld}</div>
            <div class="price-new">${priceNew}</div>
            <div class="discount">${discountLabel}</div>
          </div>

          <div class="card-footer bg-transparent border-0">
            <a class="btn btn-dark whatsapp-link"
               href="https://wa.me/5551999594767?text=Tenho%20interesse%20no%20${encodeURIComponent(product.name)}%20(${product.code})"
               data-product-name="${product.name}"
               data-product-code="${product.code}"
               target="_blank">
              Fale conosco
            </a>
          </div>
        </div>
      </div>
  `;
}

const productsWrapper = document.querySelector('.product-swiper-wrapper');
const typeOrder = ['cadeira', 'mesa', 'poltrona', 'sofá', 'sofa'];

function productTypeIndex(name) {
  const lower = name.toLowerCase();
  if (lower.includes('cadeira')) return 0;
  if (lower.includes('mesa')) return 1;
  if (lower.includes('poltrona')) return 2;
  if (lower.includes('sofá') || lower.includes('sofa')) return 3;
  return 99;
}

const orderedProducts = [...additionalProducts].sort((a, b) => {
  const typeA = productTypeIndex(a.name);
  const typeB = productTypeIndex(b.name);
  if (typeA !== typeB) return typeA - typeB;
  return a.name.localeCompare(b.name, 'pt-BR');
});

orderedProducts.forEach((product) => {
  productsWrapper.insertAdjacentHTML('beforeend', buildProductCard(product));
});

document.querySelectorAll('.product-swiper-wrapper .swiper-slide').forEach((slide) => {
  const nameEl = slide.querySelector('.fw-bold');
  const descEl = slide.querySelector('.text-muted.small');
  if (nameEl) {
    nameEl.textContent = formatName(nameEl.textContent);
  }
  if (descEl) {
    descEl.textContent = formatDesc(descEl.textContent);
  }
});

const searchInput = document.getElementById('searchInput');
if (searchInput) {
  const normalize = (text) =>
    text
      .toLowerCase()
      .normalize('NFD')
      .replace(/[\u0300-\u036f]/g, '');

  const singularize = (text) => {
    if (text.endsWith('s')) {
      return text.slice(0, -1);
    }
    return text;
  };

  searchInput.addEventListener('input', (event) => {
    const raw = event.target.value.trim();
    const term = normalize(raw);
    const termSingular = singularize(term);
    const termPlural = term.endsWith('s') ? term : `${term}s`;

    document.querySelectorAll('.product-swiper-wrapper .swiper-slide').forEach((slide) => {
      const name = normalize(slide.querySelector('.fw-bold')?.textContent || '');
      const code = normalize(slide.querySelector('.product-code')?.textContent || '');
      const desc = normalize(slide.querySelector('.text-muted')?.textContent || '');
      const haystack = `${name} ${code} ${desc}`;
      const matches =
        !term ||
        haystack.includes(term) ||
        haystack.includes(termSingular) ||
        haystack.includes(termPlural);
      slide.style.display = matches ? '' : 'none';
    });
  });
}

document.querySelectorAll('.product-images').forEach((el) => {
  const slidesCount = el.querySelectorAll('.swiper-slide').length;
  if (slidesCount > 1) {
    el.classList.add('has-multiple');
  }
  new Swiper(el, {
    slidesPerView: 1,
    spaceBetween: 8,
    loop: slidesCount > 1,
    watchOverflow: false,
    grabCursor: true,
    pagination: {
      el: el.querySelector('.swiper-pagination'),
      clickable: true
    },
    navigation: {
      nextEl: el.querySelector('.swiper-button-next'),
      prevEl: el.querySelector('.swiper-button-prev')
    }
  });
});

setupMainSwiper();
window.addEventListener('resize', setupMainSwiper);

document.querySelectorAll('.product-images img').forEach((img) => {
  img.addEventListener('click', (event) => {
    const groupEl = event.currentTarget.closest('.product-images');
    openImage(event.currentTarget.src, groupEl);
  });
});

document.querySelectorAll('.whatsapp-link').forEach((link) => {
  link.addEventListener('click', () => {
    const card = link.closest('.swiper-slide');
    const productName = link.dataset.productName || 'Produto';
    const productCode = link.dataset.productCode || '';
    const pageUrl = `${window.location.origin}${window.location.pathname}#${card.id}`;
    const message = `Tenho interesse no ${productName} (${productCode}). Link do produto: ${pageUrl}`;
    link.href = `https://wa.me/5551999594767?text=${encodeURIComponent(message)}`;
  });
});

const heroSwiper = new Swiper('.hero-swiper', {
  loop: true,
  autoplay: {
    delay: 4000,
    disableOnInteraction: false
  },
  speed: 800,
  effect: 'fade',
  fadeEffect: { crossFade: true }
});

const copySwiper = new Swiper('.copy-swiper', {
  loop: true,
  autoplay: {
    delay: 6500,
    disableOnInteraction: false
  },
  speed: 600,
  effect: 'fade',
  fadeEffect: { crossFade: true },
  pagination: {
    el: '.copy-swiper .swiper-pagination',
    clickable: true
  }
});
</script>

</body>
</html>
